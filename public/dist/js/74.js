"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[74],{8074:(t,e,a)=>{a.r(e),a.d(e,{default:()=>s});const o={data:function(){return{dataLoading:!1,deleteDialog:!1,deleteBtnLoading:!1,deleteId:"",roles:[],breadcrumbs:[{text:"Accueil",disabled:!1,to:"/home"},{text:"Roles",disabled:!0}]}},methods:{getRoles:function(){var t=this;this.dataLoading=!0,axios.get("/roles").then((function(e){t.roles=e.data,t.dataLoading=!1})).catch((function(e){console.log(e),t.dataLoading=!1}))},deleteRole:function(){var t=this;this.deleteBtnLoading=!0,axios.delete("/roles/"+this.deleteId).then((function(){t.deleteBtnLoading=!1,t.$success=!0,t.deleteDialog=!1;var e=t.roles.map((function(t){return t.id})).indexOf(t.deleteId);t.roles.splice(e,1)})).catch((function(e){console.log(e),t.deleteBtnLoading=!1,t.deleteDialog=!1}))}},created:function(){this.getRoles()}};const s=(0,a(1900).Z)(o,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-main",[a("v-container",{attrs:{fluid:""}},[a("v-card",{staticClass:"mb-3"},[a("v-breadcrumbs",{attrs:{items:t.breadcrumbs,large:""},scopedSlots:t._u([{key:"divider",fn:function(){return[a("v-icon",[t._v("mdi-chevron-right")])]},proxy:!0}])})],1),t._v(" "),a("v-row",[a("v-col",[a("v-btn",{attrs:{color:"primary",to:"/roles/create"}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-plus")]),t._v("\n                        Ajouter\n                    ")],1)],1)],1),t._v(" "),t.dataLoading?a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-sheet",{attrs:{color:"lighten-4"}},[a("v-skeleton-loader",{attrs:{type:"table-tbody"}})],1)],1)],1):t._e(),t._v(" "),!t.dataLoading&&t.roles.length>0?a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-card",[a("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-left"},[t._v("Nom")]),t._v(" "),a("th",{staticClass:"text-left"},[t._v("Description")]),t._v(" "),a("th",{staticClass:"text-right"},[t._v("Actions")])])]),t._v(" "),a("tbody",t._l(t.roles,(function(e){return a("tr",{key:e.id},[a("td",[t._v(t._s(e.name))]),t._v(" "),a("td",[t._v(t._s(e.description))]),t._v(" "),a("td",{staticClass:"text-right"},[a("v-btn",{attrs:{icon:"",to:"roles/"+e.id+"/edit"}},[a("v-icon",[t._v("mdi-pencil-outline")])],1),t._v(" "),a("v-btn",{attrs:{icon:""},on:{click:function(a){t.deleteDialog=!0,t.deleteId=e.id}}},[a("v-icon",[t._v("mdi-delete-outline")])],1)],1)])})),0)]},proxy:!0}],null,!1,111783539)}),t._v(" "),a("v-dialog",{attrs:{width:"400"},model:{value:t.deleteDialog,callback:function(e){t.deleteDialog=e},expression:"deleteDialog"}},[a("v-card",{staticClass:"text-center"},[a("v-card-text",[a("v-icon",{staticClass:"my-5",attrs:{color:"warning",size:"80"}},[t._v("mdi-information-outline")]),t._v(" "),a("h1",{staticClass:"mb-5"},[t._v("Es-tu sûr?")]),t._v(" "),a("h3",{staticClass:"my-5"},[t._v("Vous ne pourrez pas revenir en arrière !")])],1),t._v(" "),a("v-card-actions",[a("v-btn",{attrs:{depressed:"",color:"secondary"},on:{click:function(e){t.deleteDialog=!1}}},[t._v("Annuler")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{depressed:"",color:"primary",loading:t.deleteBtnLoading},on:{click:t.deleteRole}},[t._v("Supprimer\n                                    ")])],1)],1)],1)],1)],1)],1):t._e(),t._v(" "),t.dataLoading||0!==t.roles.length?t._e():a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-card",{staticClass:"text-center"},[a("v-card-text",[a("v-avatar",{attrs:{tile:"",size:"400"}},[a("v-img",{attrs:{src:"assets/images/no-data.png","aspect-ratio":"1"},scopedSlots:t._u([{key:"placeholder",fn:function(){return[a("v-row",{staticClass:"fill-height ma-0",attrs:{align:"center",justify:"center"}},[a("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}})],1)]},proxy:!0}],null,!1,3042438443)})],1)],1)],1)],1)],1)],1)],1)],1)}),[],!1,null,null,null).exports}}]);